# è¡“èªæ›´æ–°èªªæ˜ - staff â†’ sales

## ğŸ“Œ é‡è¦æ›´æ–°

**åŸå› **ï¼š`staff` å¤ªç± çµ±ï¼Œ`sales` æ›´å°ˆæ¥­ã€æ›´æ˜ç¢º

---

## ğŸ”„ å…¨å±€æ›¿æ›è¦å‰‡

### **1. è§’è‰²ä»£ç¢¼**ï¼ˆæ•¸æ“šåº«ã€ä»£ç¢¼ä¸­ï¼‰

| èˆŠå€¼ | æ–°å€¼ | ä½ç½® |
|------|------|------|
| `'staff'` | `'sales'` | session['role'] |
| `staff` | `sales` | æ•¸æ“šåº« users.role æ¬„ä½ |

### **2. ä¸­æ–‡åç¨±**

| èˆŠå€¼ | æ–°å€¼ |
|------|------|
| æ¥­å‹™å“¡ | æ¥­å‹™å“¡ï¼ˆä¿æŒä¸è®Šï¼‰ |
| staff | sales |

### **3. è®Šæ•¸åç¨±**

| èˆŠå€¼ | æ–°å€¼ |
|------|------|
| `@staff_required` | `@sales_required` |
| `is_staff` | `is_sales` |
| `staff_list` | `sales_list` |

### **4. è£é£¾å™¨åç¨±**

```python
# èˆŠçš„
def staff_required(f):
    pass

# æ–°çš„
def sales_required(f):
    pass
```

### **5. è¨»é‡‹å’Œæ–‡æª”**

| èˆŠå€¼ | æ–°å€¼ |
|------|------|
| "æ¥­å‹™å“¡ï¼ˆstaffï¼‰" | "æ¥­å‹™å“¡ï¼ˆsalesï¼‰" |
| "staff è§’è‰²" | "sales è§’è‰²" |

---

## ğŸ¯ æ›´æ–°å¾Œçš„å››å±¤æ¶æ§‹

```
superadmin (ç³»çµ±ç®¡ç†å“¡)
    â†“
  admin (ä¸»ç®¡)
    â†“
  sales (æ¥­å‹™å“¡)  â† æ›´æ–°
    â†“
  viewer (æŸ¥çœ‹è€…)
```

---

## ğŸ“‹ éœ€è¦æ›´æ–°çš„æ–‡ä»¶æ¸…å–®

### **æ–‡æª”ï¼ˆMD æ–‡ä»¶ï¼‰**ï¼š
- [x] æ”¹é€ æ–¹æ¡ˆç¸½è¦½.md
- [x] M0-é …ç›®æº–å‚™.md
- [x] M1-ç”¨æˆ¶è§’è‰²æ“´å…….md
- [x] M1.5-è¨»å†Šå¯©æ ¸èˆ‡å¯†ç¢¼é‡ç½®.md
- [x] M2-ç”¢å“å±¤ç´šæ ¸å¿ƒ.md
- [x] M3-M9 æ‰€æœ‰æ¨¡å¡Š
- [x] å‰ç«¯æ¬Šé™æ§åˆ¶è£œå…….md
- [x] å¸³è™Ÿæ¬Šé™ç®¡ç†å®Œæ•´èªªæ˜.md

### **ä»£ç¢¼ç¤ºä¾‹ä¸­éœ€è¦æ›¿æ›**ï¼š

**Python ä»£ç¢¼**ï¼š
```python
# èˆŠ
if session.get('role') == 'staff':

# æ–°
if session.get('role') == 'sales':
```

**SQL èªå¥**ï¼š
```sql
-- èˆŠ
WHERE role = 'staff'

-- æ–°
WHERE role = 'sales'
```

**JavaScript**ï¼š
```javascript
// èˆŠ
if (currentUser.role === 'staff') {

// æ–°
if (currentUser.role === 'sales') {
```

**HTML**ï¼š
```html
<!-- èˆŠ -->
{% if session.role == 'staff' %}

<!-- æ–° -->
{% if session.role == 'sales' %}
```

---

## ğŸ”§ å¯¦æ–½æ–¹å¼

### **æ–¹å¼ 1ï¼šçµ¦ Cursor çš„å…¨å±€æ›¿æ›æŒ‡ä»¤**

```
è«‹å¹«æˆ‘åœ¨æ‰€æœ‰ä»£ç¢¼å’Œæ–‡æª”ä¸­åŸ·è¡Œä»¥ä¸‹æ›¿æ›ï¼š

1. 'staff' â†’ 'sales'ï¼ˆå­—ç¬¦ä¸²ä¸­ï¼‰
2. staff â†’ salesï¼ˆè®Šæ•¸åã€å‡½æ•¸åï¼‰
3. ä¿æŒä¸­æ–‡ã€Œæ¥­å‹™å“¡ã€ä¸è®Š

æ³¨æ„ï¼š
- ä¸è¦æ›¿æ› URL è·¯å¾‘ä¸­çš„ staff
- ä¸è¦æ›¿æ›è¨»é‡‹ä¸­è§£é‡‹èˆŠç³»çµ±çš„éƒ¨åˆ†
```

### **æ–¹å¼ 2ï¼šæ‰‹å‹•æŸ¥æ‰¾æ›¿æ›**

åœ¨ä½ çš„ç·¨è¼¯å™¨ä¸­ï¼š
1. æ‰“é–‹æ‰€æœ‰ .md å’Œ .py æ–‡ä»¶
2. å…¨å±€æœç´¢ `staff`
3. é€å€‹ç¢ºèªå¾Œæ›¿æ›ç‚º `sales`

---

## âœ… é©—æ”¶æ¸…å–®

å®Œæˆå¾Œæª¢æŸ¥ï¼š

- [ ] æ‰€æœ‰ MD æ–‡æª”ä¸­ `staff` å·²æ”¹ç‚º `sales`
- [ ] æ‰€æœ‰ Python ä»£ç¢¼ç¤ºä¾‹ä¸­ `'staff'` å·²æ”¹ç‚º `'sales'`
- [ ] æ‰€æœ‰ JavaScript ç¤ºä¾‹ä¸­ `'staff'` å·²æ”¹ç‚º `'sales'`
- [ ] æ‰€æœ‰ HTML ç¤ºä¾‹ä¸­ `'staff'` å·²æ”¹ç‚º `'sales'`
- [ ] æ•¸æ“šåº«é·ç§»è…³æœ¬ä¸­çš„é»˜èªå€¼å·²æ›´æ–°
- [ ] ä¸­æ–‡ã€Œæ¥­å‹™å“¡ã€ä¿æŒä¸è®Š
- [ ] è¨»é‡‹å’Œèªªæ˜æ–‡å­—å·²æ›´æ–°

---

## ğŸ“ ç‰¹æ®Šæƒ…æ³

### **ä¿ç•™ staff çš„æƒ…æ³**ï¼š

1. **æ­·å²è¨»é‡‹**ï¼š
```python
# èˆŠç³»çµ±ä½¿ç”¨ 'staff'ï¼Œæ–°ç³»çµ±ä½¿ç”¨ 'sales'
```

2. **å‘å¾Œå…¼å®¹**ï¼š
```python
# å¦‚æœéœ€è¦æ”¯æŒèˆŠæ•¸æ“š
if role in ['staff', 'sales']:
```

---

## ğŸ‰ æ›´æ–°å®Œæˆå¾Œ

ç³»çµ±å°‡ä½¿ç”¨æ›´å°ˆæ¥­çš„è¡“èªï¼š

- âœ… `superadmin` - ç³»çµ±ç®¡ç†å“¡
- âœ… `admin` - ä¸»ç®¡
- âœ… `sales` - æ¥­å‹™å“¡ â­ï¼ˆæ›´æ–°ï¼‰
- âœ… `viewer` - æŸ¥çœ‹è€…
